<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>Flight Control</title>

    <link rel="stylesheet" href="https://s3.amazonaws.com/codiqa-cdn/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
    <link rel="stylesheet" type="text/css" href="jKSPWAPICore.css" />

    <script type="text/javascript" src="jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="jKSPWAPICore.js"></script>
    <script src="https://s3.amazonaws.com/codiqa-cdn/jquery-1.7.2.min.js"></script>
    <script src="https://s3.amazonaws.com/codiqa-cdn/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

    <script>
        function command(command, id) {
            $(id).buttonMarkup({ icon: "refresh" });
            jKSPWAPI.call("ret=" + command, function (d) {
                if (d.ret > 0) {
                    jKSPWAPI.generateNotificationWithCode(d.ret);
                }
                setTimeout($(id).buttonMarkup({ icon: "grid" }), 500);
            });
        }

        function toggle(command, id) {
            $(id).buttonMarkup({ icon: "refresh" });

            jKSPWAPI.call("ret=" + command, function (d) {
                if (d.ret > 0) {
                    jKSPWAPI.generateNotificationWithCode(d.ret);
                    
                }
                setTimeout(function () { $(id).buttonMarkup({ icon: "grid" }) }, 500);
            });
        }
    </script>
</head>
<body>
    <div data-role="page" id="page1">
        <div data-role="content">

            <button data-inline="true" id="stage" data-icon="grid" data-iconpos="bottom" onclick="command('f.stage', '#stage')">Stage+</button>

            <button data-inline="true" id="throttlep" data-icon="grid" data-iconpos="bottom" onclick="command('f.throttleUp','#throttlep')">Throttle+</button>

            <button data-inline="true" id="throttled" data-icon="grid" data-iconpos="bottom" onclick="command('f.throttleDown','#throttled')">Throttle-</button>

            <button data-inline="true" id="throttle0" data-icon="grid" data-iconpos="bottom" onclick="command('f.throttleZero','#throttle0')">0%</button>

            <button data-inline="true" id="throttle100" data-icon="grid" data-iconpos="bottom" onclick="command('f.throttleFull','#throttle100')">100%</button>

            <button data-inline="true" id="rcs" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.rcs', '#rcs')">RCS</button>

            <button data-inline="true" id="sas" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.sas', '#sas')">SAS</button>

            <button data-inline="true" id="light" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.light', '#light')">Light</button>

            <button data-inline="true" id="gear" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.gear', '#gear')">Gear</button>

            <button data-inline="true" id="brake" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.brake', '#brake')">Brake</button>

            <button data-inline="true" id="abort" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.abort', '#abort')">Abort</button>

            <button data-inline="true" id="ag1" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag1', '#ag1')">Group 1</button>

            <button data-inline="true" id="ag2" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag2', '#ag2')">Group 2</button>

            <button data-inline="true" id="ag3" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag3', '#ag3')">Group 3</button>

            <button data-inline="true" id="ag4" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag4', '#ag4')">Group 4</button>

            <button data-inline="true" id="ag5" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag5', '#ag5')">Group 5</button>

            <button data-inline="true" id="ag6" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag6', '#ag6')">Group 6</button>

            <button data-inline="true" id="ag7" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag7', '#ag7')">Group 7</button>

            <button data-inline="true" id="ag8" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag8', '#ag8')">Group 8</button>

            <button data-inline="true" id="ag9" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag9', '#ag9')">Group 9</button>

            <button data-inline="true" id="ag10" data-icon="grid" data-iconpos="bottom" onclick="toggle('f.ag10', '#ag10')">Group 10</button>
        </div>
    </div>
</body>
</html>
